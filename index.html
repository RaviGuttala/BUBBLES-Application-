<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bubbles App</title>
    <style>
        #BAppCanvas {
            border: 3px solid black;
            background-color: burlywood;
            position: absolute;
            right: 0;
            left: 0;
            top: 0;
            bottom: 0;
            margin: auto;

        }

        #ResetL {
            background-color: red;
            color: black;
            margin-top: 430px;
            margin-left: 773px;
            border-width: 8px;
            font-family: cursive;
            font-weight: bold;


        }

        .continer {
            border: 3px solid black;
            width: 950px;
            height: 550px;
            position: absolute;
            right: 0;
            left: 0;
            top: 0;
            bottom: 0;
            margin: auto;
            background-color: wheat;
        }

        h2 {
            text-align: center;
            font-family: cursive;
            font-weight: bold;
        }
        body{
            background-color: black;
        }
    </style>
</head>

<body>


    <div class="continer">

        <div class="can1">
            <div>
                <h2>Bubbles App</h2>

                <canvas id="BAppCanvas" width="800" height="420"></canvas>

            </div>
            <input type="button" value="Reset" onClick="window.location.reload(true)" id="ResetL">
        </div>

    </div>

    <!----------------------------------------------------------------------------------------------->

    <script>
        var canvas11 = document.getElementById('BAppCanvas');
        var ctx11 = canvas11.getContext('2d');


        //drawArrows using drawArrow function
        drawArrow(ctx11, 760, 60, 700, 60, 10, 'black');
        drawArrow(ctx11, 760, 160, 700, 160, 10, 'black');
        drawArrow(ctx11, 760, 260, 700, 260, 10, 'black');
        drawArrow(ctx11, 760, 360, 700, 360, 10, 'black');


        //FUNCTION TO DRAW ARROW
        function drawArrow(ctx11, fromx, fromy, tox, toy, arrowWidth, color) {
            //variables to be used when creating the arrow
            var headlen = 10;
            var angle = Math.atan2(toy - fromy, tox - fromx);

            ctx11.save();
            ctx11.strokeStyle = color;

            //starting path of the arrow from the start square to the end square
            //and drawing the stroke
            ctx11.beginPath();
            ctx11.moveTo(fromx, fromy);
            ctx11.lineTo(tox, toy);
            ctx11.lineWidth = arrowWidth;
            ctx11.stroke();

            //starting a new path from the head of the arrow to one of the sides of
            //the point
            ctx11.beginPath();
            ctx11.moveTo(tox, toy);
            ctx11.lineTo(tox - headlen * Math.cos(angle - Math.PI / 7),
                toy - headlen * Math.sin(angle - Math.PI / 7));

            //path from the side point of the arrow, to the other side point
            ctx11.lineTo(tox - headlen * Math.cos(angle + Math.PI / 7),
                toy - headlen * Math.sin(angle + Math.PI / 7));

            //path from the side point back to the tip of the arrow, and then
            //again to the opposite side point
            ctx11.lineTo(tox, toy);
            ctx11.lineTo(tox - headlen * Math.cos(angle - Math.PI / 7),
                toy - headlen * Math.sin(angle - Math.PI / 7));

            //draws the paths created above
            ctx11.stroke();
            ctx11.restore();
        }
        //==============================================================================================
        var canvas = document.getElementById('BAppCanvas');
        var context = canvas.getContext('2d');

        //CLASS CIRCLE TO DRAW CIRCLES
        class Circle {

            constructor(xpoint, ypoint, radius, color) {

                this.xpoint = xpoint;

                this.ypoint = ypoint;

                this.radius = radius; this.color = color;

            }

            //===============================================================================================
            //FUNCTOIN TO DRAW CIRCLE USING ARC METHOD
            draw(context) {

                context.beginPath();

                context.arc(this.xpoint, this.ypoint, this.radius, 0, Math.PI * 2, false);
                context.strokeStyle = 'black';

                context.lineWidth = 2;

                context.fillStyle = this.color;

                context.fill();

                context.stroke();

                context.closePath();
            }

            //----------------------------------------------------------------------------------------
            //SPECIFYING CLICK AREA FOR CIRCLE 1
            clickCircle1(xmouse, ymouse) {

                const distance =
                    Math.sqrt(
                        ((xmouse - this.xpoint) * (xmouse - this.xpoint))
                        +
                        ((ymouse - this.ypoint) * (ymouse - this.ypoint))
                    );


                if (distance < this.radius) {
                    //statements to execute after clicking circle 1
                    //alert('heeey hiiiiii');
                    context.clearRect(630, 45, 350, 50);

                    drawArrow(ctx11, 170, 60, 110, 60, 10, 'black');
                    let circle1 = new Circle(60, 60, 40, '#00acee');
                    circle1.draw(context);
                    //return true;
                }
                else {
                    //return false;
                }
            }
            //================================================================================
            //SPECIFYING CLICK AREA FOR CIRCLE 2
            clickCircle2(xmouse, ymouse) {

                const distance =
                    Math.sqrt(
                        ((xmouse - this.xpoint) * (xmouse - this.xpoint))
                        +
                        ((ymouse - this.ypoint) * (ymouse - this.ypoint))
                    );


                if (distance < this.radius) {
                    //statements to execute after clicking circle 2
                    //alert('heeey hiiiiii');
                    context.clearRect(630, 145, 350, 50);

                    drawArrow(ctx11, 170, 160, 110, 160, 10, 'black');
                    let circle2 = new Circle(60, 160, 40, '#00acee');
                    circle2.draw(context);
                    //return true;
                }
                else {
                    //return false;
                }
            }
            //======================================================================================================
            //SPECIFYING CLICK AREA FOR CIRCLE 3
            clickCircle3(xmouse, ymouse) {

                const distance =
                    Math.sqrt(
                        ((xmouse - this.xpoint) * (xmouse - this.xpoint))
                        +
                        ((ymouse - this.ypoint) * (ymouse - this.ypoint))
                    );


                if (distance < this.radius) {
                    //statements to execute after clicking circle 3
                    //alert('heeey hiiiiii');
                    context.clearRect(630, 245, 350, 50);

                    drawArrow(ctx11, 170, 260, 110, 260, 10, 'black');
                    let circle3 = new Circle(60, 260, 40, '#00acee');
                    circle3.draw(context);
                    //return true;
                }
                else {
                    //return false;
                }
            }
            //===================================================================================================
            //SPECIFYING CLICK AREA FOR CIRCLE 4
            clickCircle4(xmouse, ymouse) {

                const distance =
                    Math.sqrt(
                        ((xmouse - this.xpoint) * (xmouse - this.xpoint))
                        +
                        ((ymouse - this.ypoint) * (ymouse - this.ypoint))
                    );

                if (distance < this.radius) {
                    //statements to execute after clicking circle 4
                    //alert('heeey hiiiiii');
                    context.clearRect(630, 345, 350, 50);

                    drawArrow(ctx11, 170, 360, 110, 360, 10, 'black');
                    let circle4 = new Circle(60, 360, 40, '#00acee');
                    circle4.draw(context);
                    //return true;
                }
                else {
                    //return false;
                }
            }
        }


        //=================================================================================================
        //DRWA CIRCLES WITH RESPECT TO COORDINATES OF CANVAS USING CLASS CIRCLE
        let circle1 = new Circle(60, 60, 40, 'red');
        let circle2 = new Circle(60, 160, 40, '#F4C430');
        let circle3 = new Circle(60, 260, 40, '#90EE90');
        let circle4 = new Circle(60, 360, 40, '#808080');

        circle1.draw(context);
        circle2.draw(context);
        circle3.draw(context);
        circle4.draw(context);


        //ADD EVENTLISTENER FOR CLICK EVENT FOR ALL THE CIRCLES
        canvas.addEventListener('click', (event) => {

            const rect = canvas.getBoundingClientRect();

            const x = event.clientX - rect.left;

            const y = event.clientY - rect.top;


            //CALL THE CLICKCIRCLE FUNCTION FOR DIFFENENT CIRCLES
            console.log(circle1.clickCircle1(x, y));
            console.log(circle2.clickCircle2(x, y));
            console.log(circle3.clickCircle3(x, y));
            console.log(circle4.clickCircle4(x, y));
            //alert('element clicked');
        });

    </script>
</body>

</html>